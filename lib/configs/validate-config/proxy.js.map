{"version":3,"sources":["../../../src/configs/validate-config/proxy.js"],"names":["defaultValue","proxy","getDefaultValue","proxyName","hasOwnProperty","validate","string","trim","min","required","proxyNameError","error","proxyValueError","console","message","log","bold","yellow","JSON","stringify","cyan"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,MAAMA,eAAe;AACnB,UAAQ;AADW,CAArB;;kBAGe,CAACC,KAAD,EAAQC,kBAAkB,KAA1B,KAAoC;AACjD,MAAIA,eAAJ,EAAqB;AACnB,WAAOF,YAAP;AACD;;AAED,OAAK,IAAIG,SAAT,IAAsBF,KAAtB,EAA6B;AAC3B,QAAIA,MAAMG,cAAN,CAAqBD,SAArB,CAAJ,EAAqC;AAAA,0BACH,cAAIE,QAAJ,CAAaF,SAAb,EAAwB,cAAIG,MAAJ,GAAaC,IAAb,GAAoBC,GAApB,CAAwB,CAAxB,EAA2BC,QAA3B,EAAxB,CADG;;AAAA,YACrBC,cADqB,iBAC5BC,KAD4B;;AAAA,2BAEF,cAAIN,QAAJ,CAAaJ,MAAME,SAAN,CAAb,EAA+B,cAAIG,MAAJ,GAAaC,IAAb,GAAoBC,GAApB,CAAwB,CAAxB,EAA2BC,QAA3B,EAA/B,CAFE;;AAAA,YAErBG,eAFqB,kBAE5BD,KAF4B;;;AAInC,UAAID,mBAAmB,IAAvB,EAA6B;AAC3BG,gBAAQF,KAAR,CAAcD,eAAeI,OAA7B;AACD;AACD,UAAIF,oBAAoB,IAAxB,EAA8B;AAC5BC,gBAAQF,KAAR,CAAcC,gBAAgBE,OAA9B;AACD;AACD,UAAIJ,mBAAmB,IAAnB,IAA2BE,oBAAoB,IAAnD,EAAyD;AACvDC,gBAAQE,GAAR,CAAY,gBAAMC,IAAN,CAAWC,MAAX,CAAmB,mBAAkBC,KAAKC,SAAL,CAAelB,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAA+B,GAApE,CAAZ;AACAY,gBAAQE,GAAR,CAAY,gBAAMC,IAAN,CAAWI,IAAX,CAAiB,kBAAiBF,KAAKC,SAAL,CAAenB,YAAf,EAA6B,IAA7B,EAAmC,CAAnC,CAAsC,GAAxE,CAAZ;AACA,eAAOA,YAAP;AACD;AACF;AACF;;AAED,SAAOC,KAAP;AACD,C","file":"proxy.js","sourcesContent":["import chalk from 'chalk';\nimport Joi from 'joi';\n\nconst defaultValue = {\n  '/api': 'http://localhost:5000',\n};\nexport default (proxy, getDefaultValue = false) => {\n  if (getDefaultValue) {\n    return defaultValue;\n  }\n\n  for (let proxyName in proxy) {\n    if (proxy.hasOwnProperty(proxyName)) {\n      const {error: proxyNameError} = Joi.validate(proxyName, Joi.string().trim().min(3).required());\n      const {error: proxyValueError} = Joi.validate(proxy[proxyName], Joi.string().trim().min(6).required());\n\n      if (proxyNameError !== null) {\n        console.error(proxyNameError.message);\n      }\n      if (proxyValueError !== null) {\n        console.error(proxyValueError.message);\n      }\n      if (proxyNameError !== null || proxyValueError !== null) {\n        console.log(chalk.bold.yellow(`Current value: \"${JSON.stringify(proxy, null, 2)}\"`));\n        console.log(chalk.bold.cyan(`We are using: \"${JSON.stringify(defaultValue, null, 2)}\"`));\n        return defaultValue;\n      }\n    }\n  }\n\n  return proxy;\n}\n"]}